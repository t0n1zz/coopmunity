{"ast":null,"code":"import _regeneratorRuntime from\"/Users/tony/Code/coopmunity/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/tony/Code/coopmunity/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{PersonAddOutlined,PersonRemoveOutlined}from\"@mui/icons-material\";import{Box,IconButton,Typography,useTheme}from\"@mui/material\";import{useDispatch,useSelector}from\"react-redux\";import{useNavigate}from\"react-router-dom\";import{setFriends}from\"state\";import FlexBetween from\"./FlexBetween\";import UserImage from\"./UserImage\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Friend=function Friend(_ref){var friendId=_ref.friendId,name=_ref.name,subtitle=_ref.subtitle,userPicturePath=_ref.userPicturePath;var dispatch=useDispatch();var navigate=useNavigate();var _useSelector=useSelector(function(state){return state.user;}),_id=_useSelector._id;var token=useSelector(function(state){return state.token;});var friends=useSelector(function(state){return state.user.friends;});var _useTheme=useTheme(),palette=_useTheme.palette;var primaryLight=palette.primary.light;var primaryDark=palette.primary.dark;var main=palette.neutral.main;var medium=palette.neutral.medium;var isFriend=friends.find(function(friend){return friend._id===friendId;});var patchFriend=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"http://localhost:3001/users/\".concat(_id,\"/\").concat(friendId),{method:\"PATCH\",headers:{Authorization:\"Bearer \".concat(token),\"Content-Type\":\"application/json\"}});case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;dispatch(setFriends({friends:data}));case 7:case\"end\":return _context.stop();}},_callee);}));return function patchFriend(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(FlexBetween,{children:[/*#__PURE__*/_jsxs(FlexBetween,{gap:\"1rem\",children:[/*#__PURE__*/_jsx(UserImage,{image:userPicturePath,size:\"55px\"}),/*#__PURE__*/_jsxs(Box,{onClick:function onClick(){navigate(\"/profile/\".concat(friendId));navigate(0);},children:[/*#__PURE__*/_jsx(Typography,{color:main,variant:\"h5\",fontWeight:\"500\",sx:{\"&:hover\":{color:palette.primary.light,cursor:\"pointer\"}},children:name}),/*#__PURE__*/_jsx(Typography,{color:medium,fontSize:\"0.75rem\",children:subtitle})]})]}),/*#__PURE__*/_jsx(IconButton,{onClick:function onClick(){return patchFriend();},sx:{backgroundColor:primaryLight,p:\"0.6rem\"},children:isFriend?/*#__PURE__*/_jsx(PersonRemoveOutlined,{sx:{color:primaryDark}}):/*#__PURE__*/_jsx(PersonAddOutlined,{sx:{color:primaryDark}})})]});};export default Friend;","map":{"version":3,"names":["PersonAddOutlined","PersonRemoveOutlined","Box","IconButton","Typography","useTheme","useDispatch","useSelector","useNavigate","setFriends","FlexBetween","UserImage","jsx","_jsx","jsxs","_jsxs","Friend","_ref","friendId","name","subtitle","userPicturePath","dispatch","navigate","_useSelector","state","user","_id","token","friends","_useTheme","palette","primaryLight","primary","light","primaryDark","dark","main","neutral","medium","isFriend","find","friend","patchFriend","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","wrap","_callee$","_context","prev","next","fetch","concat","method","headers","Authorization","sent","json","stop","apply","arguments","children","gap","image","size","onClick","color","variant","fontWeight","sx","cursor","fontSize","backgroundColor","p"],"sources":["/Users/tony/Code/coopmunity/client/src/components/Friend.jsx"],"sourcesContent":["import { PersonAddOutlined, PersonRemoveOutlined } from \"@mui/icons-material\";\nimport { Box, IconButton, Typography, useTheme } from \"@mui/material\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useNavigate } from \"react-router-dom\";\nimport { setFriends } from \"state\";\nimport FlexBetween from \"./FlexBetween\";\nimport UserImage from \"./UserImage\";\n\nconst Friend = ({ friendId, name, subtitle, userPicturePath }) => {\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const { _id } = useSelector((state) => state.user);\n  const token = useSelector((state) => state.token);\n  const friends = useSelector((state) => state.user.friends);\n\n  const { palette } = useTheme();\n  const primaryLight = palette.primary.light;\n  const primaryDark = palette.primary.dark;\n  const main = palette.neutral.main;\n  const medium = palette.neutral.medium;\n\n  const isFriend = friends.find((friend) => friend._id === friendId);\n\n  const patchFriend = async () => {\n    const response = await fetch(\n      `http://localhost:3001/users/${_id}/${friendId}`,\n      {\n        method: \"PATCH\",\n        headers: {\n          Authorization: `Bearer ${token}`,\n          \"Content-Type\": \"application/json\",\n        },\n      }\n    );\n    const data = await response.json();\n    dispatch(setFriends({ friends: data }));\n  };\n\n  return (\n    <FlexBetween>\n      <FlexBetween gap=\"1rem\">\n        <UserImage image={userPicturePath} size=\"55px\" />\n        <Box\n          onClick={() => {\n            navigate(`/profile/${friendId}`);\n            navigate(0);\n          }}\n        >\n          <Typography\n            color={main}\n            variant=\"h5\"\n            fontWeight=\"500\"\n            sx={{\n              \"&:hover\": {\n                color: palette.primary.light,\n                cursor: \"pointer\",\n              },\n            }}\n          >\n            {name}\n          </Typography>\n          <Typography color={medium} fontSize=\"0.75rem\">\n            {subtitle}\n          </Typography>\n        </Box>\n      </FlexBetween>\n      <IconButton\n        onClick={() => patchFriend()}\n        sx={{ backgroundColor: primaryLight, p: \"0.6rem\" }}\n      >\n        {isFriend ? (\n          <PersonRemoveOutlined sx={{ color: primaryDark }} />\n        ) : (\n          <PersonAddOutlined sx={{ color: primaryDark }} />\n        )}\n      </IconButton>\n    </FlexBetween>\n  );\n};\n\nexport default Friend;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}