{"ast":null,"code":"import _regeneratorRuntime from\"/Users/tony/Code/coopmunity/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/tony/Code/coopmunity/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/tony/Code/coopmunity/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Box,useMediaQuery}from\"@mui/material\";import{useEffect,useState}from\"react\";import{useSelector}from\"react-redux\";import{useParams}from\"react-router-dom\";import Navbar from\"scenes/navbar\";import FriendListWidget from\"scenes/widgets/FriendListWidget\";import MyPostWidget from\"scenes/widgets/MyPostWidget\";import PostsWidget from\"scenes/widgets/PostsWidget\";import UserWidget from\"scenes/widgets/UserWidget\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProfilePage=function ProfilePage(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useParams=useParams(),userId=_useParams.userId;var token=useSelector(function(state){return state.token;});var isNonMobileScreens=useMediaQuery(\"(min-width:1000px)\");var getUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"http://localhost:3001/users/\".concat(userId),{method:\"GET\",headers:{Authorization:\"Bearer \".concat(token)}});case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;setUser(data);case 7:case\"end\":return _context.stop();}},_callee);}));return function getUser(){return _ref.apply(this,arguments);};}();useEffect(function(){getUser();},[]);// eslint-disable-line react-hooks/exhaustive-deps\nif(!user)return null;return/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(Box,{width:\"100%\",padding:\"2rem 6%\",display:isNonMobileScreens?\"flex\":\"block\",gap:\"2rem\",justifyContent:\"center\",children:[/*#__PURE__*/_jsxs(Box,{flexBasis:isNonMobileScreens?\"26%\":undefined,children:[/*#__PURE__*/_jsx(UserWidget,{userId:userId,picturePath:user.picturePath}),/*#__PURE__*/_jsx(Box,{m:\"2rem 0\"}),/*#__PURE__*/_jsx(FriendListWidget,{userId:userId})]}),/*#__PURE__*/_jsxs(Box,{flexBasis:isNonMobileScreens?\"42%\":undefined,mt:isNonMobileScreens?undefined:\"2rem\",children:[/*#__PURE__*/_jsx(MyPostWidget,{picturePath:user.picturePath}),/*#__PURE__*/_jsx(Box,{m:\"2rem 0\"}),/*#__PURE__*/_jsx(PostsWidget,{userId:userId,isProfile:true})]})]})]});};export default ProfilePage;","map":{"version":3,"names":["Box","useMediaQuery","useEffect","useState","useSelector","useParams","Navbar","FriendListWidget","MyPostWidget","PostsWidget","UserWidget","jsx","_jsx","jsxs","_jsxs","ProfilePage","_useState","_useState2","_slicedToArray","user","setUser","_useParams","userId","token","state","isNonMobileScreens","getUser","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","wrap","_callee$","_context","prev","next","fetch","concat","method","headers","Authorization","sent","json","stop","apply","arguments","children","width","padding","display","gap","justifyContent","flexBasis","undefined","picturePath","m","mt","isProfile"],"sources":["/Users/tony/Code/coopmunity/client/src/scenes/profilePage/index.jsx"],"sourcesContent":["import { Box, useMediaQuery } from \"@mui/material\";\nimport { useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useParams } from \"react-router-dom\";\nimport Navbar from \"scenes/navbar\";\nimport FriendListWidget from \"scenes/widgets/FriendListWidget\";\nimport MyPostWidget from \"scenes/widgets/MyPostWidget\";\nimport PostsWidget from \"scenes/widgets/PostsWidget\";\nimport UserWidget from \"scenes/widgets/UserWidget\";\n\nconst ProfilePage = () => {\n  const [user, setUser] = useState(null);\n  const { userId } = useParams();\n  const token = useSelector((state) => state.token);\n  const isNonMobileScreens = useMediaQuery(\"(min-width:1000px)\");\n\n  const getUser = async () => {\n    const response = await fetch(`http://localhost:3001/users/${userId}`, {\n      method: \"GET\",\n      headers: { Authorization: `Bearer ${token}` },\n    });\n    const data = await response.json();\n    setUser(data);\n  };\n\n  useEffect(() => {\n    getUser();\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  if (!user) return null;\n\n  return (\n    <Box>\n      <Navbar />\n      <Box\n        width=\"100%\"\n        padding=\"2rem 6%\"\n        display={isNonMobileScreens ? \"flex\" : \"block\"}\n        gap=\"2rem\"\n        justifyContent=\"center\"\n      >\n        <Box flexBasis={isNonMobileScreens ? \"26%\" : undefined}>\n          <UserWidget userId={userId} picturePath={user.picturePath} />\n          <Box m=\"2rem 0\" />\n          <FriendListWidget userId={userId} />\n        </Box>\n        <Box\n          flexBasis={isNonMobileScreens ? \"42%\" : undefined}\n          mt={isNonMobileScreens ? undefined : \"2rem\"}\n        >\n          <MyPostWidget picturePath={user.picturePath} />\n          <Box m=\"2rem 0\" />\n          <PostsWidget userId={userId} isProfile />\n        </Box>\n      </Box>\n    </Box>\n  );\n};\n\nexport default ProfilePage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}